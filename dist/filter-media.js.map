{"version":3,"file":"filter-media.js","names":[],"sources":["../src/filter-media.ts"],"sourcesContent":["import type { Transcoding } from './info'\nimport FORMATS from './formats'\nimport STREAMING_PROTOCOLS from './protocols'\n\nexport interface FilterPredicateObject {\n  protocol?: STREAMING_PROTOCOLS\n  format?: FORMATS\n}\n\n/** @internal */\nconst filterMedia = (\n  media: Transcoding[],\n  predicate: FilterPredicateObject\n): Transcoding[] => {\n  return media.filter(({ format, snipped }) => {\n    // Odrzuć snippety\n    if (snipped) {\n      return false\n    }\n    \n    // Sprawdź protokół jeśli podany\n    if (predicate.protocol !== undefined && format.protocol !== predicate.protocol) {\n      return false\n    }\n    \n    // Sprawdź format jeśli podany\n    if (predicate.format !== undefined && format.mime_type !== predicate.format) {\n      return false\n    }\n    \n    return true\n  })\n}\n\nexport default filterMedia\n"],"mappings":"4CAUA,MAAM,GACJ,EACA,IAEO,EAAM,QAAQ,CAAE,SAAQ,aAY7B,EAVI,GAKA,EAAU,WAAa,IAAA,IAAa,EAAO,WAAa,EAAU,UAKlE,EAAU,SAAW,IAAA,IAAa,EAAO,YAAc,EAAU,QAKrE"}